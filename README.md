# PREHISTORY

## How this package was created

```bash
git clone git@github.com:schtunt/rh.git
cd rh/

echo .venv > .gitignore

pipx install virtualenv
python3 -m venv --upgrade-deps --upgrade .venv

python3 -m pip install --upgrade pip
python3 -m pip install robin-stocks
python3 -m pip install numpy
python3 -m pip install python-dateutil

source .venv/bin/activate

deactivate
```
# DEMO

## Sample Query on a Stock
1. Set up a free MarketStack account to pull latest exchange data

https://marketstack.com

2. Export your API key

```
export API_MARKETSTACK_KEY=...
```

3. Set up your Robinhood account access

```
touch ~/.rhrc
chmod 0600 ~/.rhrc
echo "${RH_USERNAME?},${RH_PASSWORD} > ~/.rhrc
```

4. Run a query on a stock you have traded in

```
$ python3 rh.py ROKU
################################################################################
   5.00000 <#00000 ROKU: buy[              market]     5.00 x    $129.52 =    $647.59 @ 2020-02-05 14:46:52.924000+00:00>
   2.00000 <#00001 ROKU: buy[              market]     5.00 x    $125.73 =    $628.67 @ 2020-02-05 20:32:20.659000+00:00>
   7.00000 <#00014 ROKU:sell[               limit]     7.00 x    $292.00 =  $2,044.00 @ 2020-12-03 19:30:41.018000+00:00>
Cost Basis: $1,144.94

   3.00000 <#00001 ROKU: buy[              market]     5.00 x    $125.73 =    $628.67 @ 2020-02-05 20:32:20.659000+00:00>
   2.00000 <#00002 ROKU: buy[              market]     2.00 x    $135.51 =    $271.02 @ 2020-02-11 14:30:01.253000+00:00>
   1.00000 <#00003 ROKU: buy[              market]     8.00 x    $127.30 =  $1,018.40 @ 2020-02-20 14:30:00.980000+00:00>
   6.00000 <#00015 ROKU:sell[               limit]     6.00 x    $354.98 =  $2,129.88 @ 2020-12-21 16:25:21.579000+00:00>
Cost Basis: $1,354.36

   5.00000 <#00003 ROKU: buy[              market]     8.00 x    $127.30 =  $1,018.40 @ 2020-02-20 14:30:00.980000+00:00>
   5.00000 <#00021 ROKU:sell[               limit]     5.00 x    $389.00 =  $1,945.00 @ 2021-01-08 14:22:19.493000+00:00>
Cost Basis: $1,308.50

   2.00000 <#00003 ROKU: buy[              market]     8.00 x    $127.30 =  $1,018.40 @ 2020-02-20 14:30:00.980000+00:00>
   2.00000 <#00022 ROKU:sell[              market]     2.00 x    $380.05 =    $760.10 @ 2021-01-07 22:22:48.408000+00:00>
Cost Basis: $505.50

   2.00000 <#00004 ROKU: buy[              market]     4.00 x    $124.11 =    $496.44 @ 2020-02-20 16:14:55.695000+00:00>
   2.00000 <#00023 ROKU:sell[              market]     2.00 x    $398.00 =    $796.00 @ 2021-01-08 21:34:31.418000+00:00>
Cost Basis: $547.78

   1.75000 <#00004 ROKU: buy[              market]     4.00 x    $124.11 =    $496.44 @ 2020-02-20 16:14:55.695000+00:00>
   1.75000 <#00026 ROKU:sell[              market]     1.75 x    $441.00 =    $771.75 @ 2021-01-19 21:24:30.169882+00:00>
Cost Basis: $554.56

   4.00000 <#00004 ROKU: buy[              market]     4.00 x    $124.11 =    $496.44 @ 2020-02-20 16:14:55.695000+00:00>
   6.00000 <#00005 ROKU: buy[              market]     6.00 x    $108.98 =    $653.88 @ 2020-03-04 18:10:14.060000+00:00>
   3.00000 <#00006 ROKU: buy[              market]     3.00 x     $99.18 =    $297.54 @ 2020-03-06 19:38:07.354000+00:00>
   3.00000 <#00007 ROKU: buy[              market]     3.00 x     $94.36 =    $283.08 @ 2020-03-10 16:35:34.312000+00:00>
   2.00000 <#00008 ROKU: buy[              market]     2.00 x     $81.67 =    $163.33 @ 2020-03-12 19:13:50.321000+00:00>
   1.00000 <#00009 ROKU: buy[              market]     1.00 x     $78.06 =     $78.06 @ 2020-03-13 17:37:25.880000+00:00>
   1.00000 <#00010 ROKU: buy[              market]     1.00 x     $72.18 =     $72.18 @ 2020-03-16 17:05:59.067000+00:00>
   1.00000 <#00011 ROKU: buy[              market]     1.00 x     $93.98 =     $93.98 @ 2020-03-25 20:44:34.596000+00:00>
   1.00000 <#00012 ROKU: buy[              market]     1.00 x    $172.20 =    $172.20 @ 2020-09-03 14:33:19.954000+00:00>
   1.00000 <#00013 ROKU: buy[              market]     1.00 x    $153.46 =    $153.46 @ 2020-09-11 17:26:55.883000+00:00>
   1.00000 <#00016 ROKU: buy[              market]     1.00 x    $329.40 =    $329.40 @ 2020-12-17 21:57:07.084000+00:00>
   3.00000 <#00017 ROKU: buy[               limit]     3.00 x    $333.33 =    $999.99 @ 2020-12-29 15:12:59.236000+00:00>
   1.00000 <#00018 ROKU: buy[              market]     1.00 x    $337.92 =    $337.92 @ 2020-12-30 14:43:40.838000+00:00>
   1.00000 <#00019 ROKU: buy[              market]     1.00 x    $320.51 =    $320.51 @ 2021-01-04 17:09:12.827000+00:00>
   1.00000 <#00020 ROKU: buy[              market]     1.00 x    $332.00 =    $332.00 @ 2021-01-06 15:07:15.234000+00:00>
   0.50000 <#00024 ROKU: buy[              market]     0.50 x    $421.08 =    $210.54 @ 2021-01-15 15:00:08.719845+00:00>
   0.50000 <#00025 ROKU: buy[              market]     0.50 x    $420.28 =    $210.14 @ 2021-01-19 14:26:13.985481+00:00>
   0.50000 <#00027 ROKU: buy[              market]     0.50 x    $432.46 =    $216.23 @ 2021-01-20 15:58:39.084203+00:00>
   0.25000 <#00028 ROKU: buy[              market]     0.25 x    $429.72 =    $107.43 @ 2021-01-20 17:12:47.568376+00:00>
   1.00000 <#00029 ROKU: buy[              market]     1.00 x    $421.25 =    $421.25 @ 2021-01-21 17:30:00.617000+00:00>
Cost :   29.00000 x $189.11 = $5,484.15
Value:   29.00000 x $422.85 = $12,262.65
Position: $6,778.50
```
